/* index.css — Tailwind v4 composition + design system entry point */

/* Third-party map/leaflet styles (must be first) */
@import "leaflet/dist/leaflet.css";

/* Project design system (fonts → theme tokens → base styles) */
@import "./styles/global.css";

/* Tailwind v4 */
@import "tailwindcss";

/* ── 1) Tailwind v4 @theme block ──────────────────────────────────────────────
   Maps semantic token names to Tailwind utility classes.
   Values mirror theme.css :root for consistency.
   ─────────────────────────────────────────────────────────────────────────── */
@theme {
  /* Font families — required in Tailwind v4 @theme to generate font-sans / font-heading utilities */
  --font-family-sans:    'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-family-heading: 'Syne', 'Inter', sans-serif;

  /* Brand */
  --color-brand:     #3BB2A5;
  --color-brand-600: #2D9F93;
  --color-brand-50:  #E8F8F5;
  --color-brand-100: #D1F0EB;
  --color-brandend:  #6CCF6A;

  /* Accent */
  --color-accent: #2EA6D7;

  /* Layout backgrounds */
  --color-appbg:   #f8fafc;
  --color-surface: #FFFFFF;

  /* Text */
  --color-textpri:  #111827;
  --color-textsec:  #6B7280;
  --color-texttert: #9CA3AF;

  /* Borders */
  --color-border:      #e2e8f0;
  --color-borderlight: #f1f5f9;

  /* Status */
  --color-success: #10B981;
  --color-warning: #F59E0B;
  --color-error:   #EF4444;

  /* Login tokens */
  --color-login-gradient-start: #2EA6D7;
  --color-login-gradient-end:   #6CCF6A;
  --color-login-input-bg:       #F0F5FA;
  --color-login-input-border:   #E2E8F0;
  --color-login-text-heading:   #1A202C;
  --color-login-text-body:      #718096;
  --color-login-text-link:      #2EA6D7;
}

/* ── 2) Custom Tailwind utility classes ───────────────────────────────────── */

@utility btn-gradient-primary {
  background: linear-gradient(to right, #2C97D4, #76C267);
  color: #ffffff;
  transition: opacity 150ms ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  &:hover { opacity: 0.9; }
}

@utility nav-item-active {
  background: linear-gradient(to right, #2C97D4, #76C267);
  color: #ffffff;
  box-shadow: 0 10px 15px rgba(44, 151, 212, 0.3);
}

@utility btn-login-gradient {
  @apply w-full py-3 rounded-xl font-semibold text-white text-base
    bg-gradient-to-r from-[#2EA6D7] to-[#6CCF6A]
    shadow-lg shadow-[#2EA6D7]/25
    transition-all duration-300
    hover:shadow-xl hover:shadow-[#2EA6D7]/35 hover:scale-[1.01]
    active:scale-[0.99]
    focus:outline-none focus:ring-2 focus:ring-[#2EA6D7]/50;
}

@utility login-input {
  @apply w-full bg-[#F0F5FA] border border-[#E2E8F0] px-4 py-3 rounded-xl text-sm
    placeholder-[#A0AEC0] transition-all duration-200
    focus:outline-none focus:ring-2 focus:ring-[#2EA6D7]/40 focus:border-[#2EA6D7];
}

@utility login-label {
  @apply block text-sm font-semibold text-[#1A202C] mb-1.5;
}

@utility text-title  { @apply text-textpri; }
@utility text-subtle { @apply text-textsec; }

/* ── 3) Dark mode Tailwind token overrides ────────────────────────────────── */
/* Mirrors theme.css vars but scoped to Tailwind utility generation in @theme  */

[data-theme="dark"] {
  --color-appbg:       #0f172a;
  --color-surface:     #1e293b;
  --color-textpri:     #ffffff;
  --color-textsec:     #94a3b8;
  --color-texttert:    #64748b;
  --color-border:      #334155;
  --color-borderlight: #334155;
}

/* Smooth color transitions when toggling */
[data-theme="dark"] *,
[data-theme="dark"] *::before,
[data-theme="dark"] *::after {
  transition: background-color 200ms ease, border-color 200ms ease, color 200ms ease;
}

/* ── 5) Layout CSS variables ──────────────────────────────────────────────── */

:root {
  --left-panel-width:  50%;
  --right-panel-width: 50%;
}

/* ── 6) 3D canvas & app container ────────────────────────────────────────── */

canvas {
  background: transparent !important;
}

/* Body background inherits from theme token — works in both light and dark */
body {
  background-color: var(--color-appbg, #f8fafc);
}

/* Dark override — applied only when the twin/studio canvas is active */
body.canvas-route {
  background-color: #0f172a;
}
